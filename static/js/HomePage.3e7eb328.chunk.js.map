{"version":3,"sources":["services/api.js","components/MoviesList/moviesList.module.css","components/MoviesList/MoviesList.jsx","components/HomePage/homePage.module.css","components/HomePage/Homepage.jsx"],"names":["fetchMovies","url","a","axios","get","data","console","error","defaults","baseURL","params","api_key","fetchMovieReviews","movieId","api","fetchMovieTrending","fetchMovieSearchQuery","searchQuery","fetchMovieDescription","fetchMovieCast","module","exports","MoviesList","movie","id","title","pathname","useLocation","path","className","s","imageGalleryItem","to","imageGalleryItemImage","src","poster_path","alt","width","HomePage","useState","trendingMovies","setTrendingMovies","loading","setLoading","useEffect","services","results","fetchData","imageGallery","map"],"mappings":"gMAOeA,E,8EAAf,WAA2BC,GAA3B,iBAAAC,EAAA,+EAE2BC,IAAMC,IAAIH,GAFrC,uBAEYI,EAFZ,EAEYA,KAFZ,kBAIWA,GAJX,gCAMIC,QAAQC,MAAR,MANJ,0D,sBALAJ,IAAMK,SAASC,QAAU,+BACzBN,IAAMK,SAASE,OAAS,CACtBC,QAAS,oCAaX,IAgBMC,EAAiB,uCAAG,WAAgBC,GAAhB,SAAAX,EAAA,+EACjBF,EAAY,UAAD,OAAWa,EAAX,eADM,2CAAH,sDAGjBC,EAAM,CACVd,cACAe,mBArByB,WACzB,OAAOf,EAAY,yBAqBnBgB,sBAlB4B,SAAUC,GACtC,OAAOjB,EAAY,wBAAD,OAAyBiB,KAkB3CC,sBAf4B,SAAUL,GACtC,OAAOb,EAAY,UAAD,OAAWa,EAAX,sBAelBM,eAZqB,SAAUN,GAC/B,OAAOb,EAAY,UAAD,OAAWa,EAAX,8BAYlBD,qBAGaE,O,mBC5CfM,EAAOC,QAAU,CAAC,iBAAmB,qCAAqC,sBAAwB,4C,iHC+BnFC,MA3Bf,YAAgC,IAAVC,EAAS,EAATA,MACZC,EAAcD,EAAdC,GAAIC,EAAUF,EAAVE,MACJC,EAAaC,cAAbD,SACFE,EAAoB,MAAbF,EAAmB,UAAYA,EAE5C,OACE,oBAAIG,UAAWC,IAAEC,iBAAjB,SACE,eAAC,IAAD,CAAMC,GAAE,UAAKJ,EAAL,YAAaJ,GAArB,UACE,qBACEK,UAAWC,IAAEG,sBACbC,IAAG,yCAAoCX,EAAMY,aAC7CC,IAAKb,EAAME,MACXY,MAAM,QAEPZ,S,mBClBTL,EAAOC,QAAU,CAAC,aAAe,iC,iICuClBiB,UAlCf,WACE,MAA4CC,mBAAS,IAArD,mBAAOC,EAAP,KAAuBC,EAAvB,KACA,EAA8BF,oBAAS,GAAvC,mBAAOG,EAAP,KAAgBC,EAAhB,KAiBA,OAfAC,qBAAU,WAAM,4CACd,8BAAA1C,EAAA,6DACEyC,GAAW,GADb,kBAG8BE,IAAS9B,mBAAmB,kBAH1D,gBAGY+B,EAHZ,EAGYA,QACRL,EAAkBK,GAJtB,gDAMIxC,QAAQC,MAAR,MANJ,yBAQIoC,GAAW,GARf,6EADc,uBAAC,WAAD,wBAYdI,KACC,IAGD,gCACE,iDACEL,GACA,qBAAIb,UAAWC,IAAEkB,aAAjB,UACGR,EAAeS,KAAI,SAAC1B,GAAD,OAClB,cAAC,IAAD,CAAYA,MAAOA,GAAYA,EAAMC,OAEtCkB,GAAW,cAAC,IAAD","file":"static/js/HomePage.3e7eb328.chunk.js","sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://api.themoviedb.org/3\";\naxios.defaults.params = {\n  api_key: \"5c841683b693f172a27449c1327aa5b5\",\n};\n\nasync function fetchMovies(url) {\n  try {\n    const { data } = await axios.get(url);\n\n    return data;\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nconst fetchMovieTrending = function () {\n  return fetchMovies(`/trending/movie/day?`);\n};\n\nconst fetchMovieSearchQuery = function (searchQuery) {\n  return fetchMovies(`/search/movie?&query=${searchQuery}`);\n};\n\nconst fetchMovieDescription = function (movieId) {\n  return fetchMovies(`/movie/${movieId}?&language=en-US`);\n};\n\nconst fetchMovieCast = function (movieId) {\n  return fetchMovies(`/movie/${movieId}/credits?&language=en-US`);\n};\n\nconst fetchMovieReviews = async function (movieId) {\n  return fetchMovies(`/movie/${movieId}/reviews?`);\n};\nconst api = {\n  fetchMovies,\n  fetchMovieTrending,\n  fetchMovieSearchQuery,\n  fetchMovieDescription,\n  fetchMovieCast,\n  fetchMovieReviews,\n};\n\nexport default api;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"moviesList_imageGalleryItem__hjDHj\",\"imageGalleryItemImage\":\"moviesList_imageGalleryItemImage__1hy5R\"};","import React from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./moviesList.module.css\";\n\nfunction MoviesList({ movie }) {\n  const { id, title } = movie;\n  const { pathname } = useLocation();\n  const path = pathname === \"/\" ? \"/movies\" : pathname;\n\n  return (\n    <li className={s.imageGalleryItem}>\n      <Link to={`${path}/${id}`}>\n        <img\n          className={s.imageGalleryItemImage}\n          src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n          alt={movie.title}\n          width=\"300\"\n        />\n        {title}\n      </Link>\n    </li>\n  );\n}\n\nMoviesList.propTypes = {\n  movie: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string,\n  }).isRequired,\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"homePage_imageGallery__a98uF\"};","import { useState, useEffect } from \"react\";\nimport services from \"../../services/api\";\nimport MoviesList from \"../MoviesList\";\nimport Spinner from \"../Spinner/\";\nimport s from \"./homePage.module.css\";\n\nfunction HomePage() {\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      try {\n        const { results } = await services.fetchMovieTrending(\"trendingMovies\");\n        setTrendingMovies(results);\n      } catch (e) {\n        console.error(e);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <div>\n      <h2>Trending today</h2>\n      {!loading && (\n        <ul className={s.imageGallery}>\n          {trendingMovies.map((movie) => (\n            <MoviesList movie={movie} key={movie.id} />\n          ))}\n          {loading && <Spinner />}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default HomePage;\n"],"sourceRoot":""}